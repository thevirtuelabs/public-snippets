<script>
	// GA Loader
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	// Store & Load unique User ID into cookie (localStorage)
    function epochuser () {
		this.getUUID = function getUUID () {
			if (localStorage && "_epochUUID" in localStorage) {
				euid = localStorage._epochUUID;
			} else {
				euid = this.euid();
				localStorage.setItem("_epochUUID",this.euid());
			}
			return euid;
		}
		this.euid = function () {
			return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
				var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
				return v.toString(16);
			});
		}
	}

	// Identify user and website
    var epoch = {}
	var user = new epochuser();
	epoch.uuid = user.getUUID();
	epoch.site_name = "NTD Inspired";

	ga('create', GA_ID, 'auto', {		  
		userId: epoch.uuid
	});

	// Set custom dimensions. RESPECT DIMENSION's IDs
	ga('set', 'dimension21', ARTICLE_ID);		// e.g. 314254235 [REQUIRED]
	ga('set', 'dimension22', ARTICLE_CODE);		// e.g. "NTD Inspired-314254235", always SITE_NAME-ARTICLE_ID [REQUIRED]
	ga('set', 'dimension23', AUTHOR_NAME);		// e.g. Tomas Masaryk, the name of writer [REQUIRED]
	ga('set', 'dimension24', PUBLISHER_NAME);	// e.g. Jan Slota, the name of person who published the article [REQUIRED]
	ga('set', 'dimension26', PRIMARY_CATEGORY);	// e.g. Epoch Taste (or slug) [REQUIRED]
	ga('set', 'dimension28', CATEGORY_LIST);	// e.g. ";Inspiration;Life;Uplift;Video;" list of categories separated by ; [REQUIRED]
	ga('set', 'dimension30', PUBLISH_DATE);		// e.g. 20160722 Publish date in format YYYYMMDD [REQUIRED]
	ga('set', 'dimension31', UPDATE_DATE);		// e.g. 20160724 Last update date in format YYYYMMDD [REQUIRED]
	ga('set', 'dimension38', epoch.uuid);		// UUID loaded from cookie, using epochuser object [REQUIRED]
	ga('set', 'dimension46', PLATFORM);			// "web", it identifies "web" platform from "Instant Article" [REQUIRED]
	
	ga('set', 'dimension33', WORDCOUNT);		// e.g. 456, wordcount of the article [OPTIONAL]
	ga('set', 'dimension29', TAG_LIST);			// e.g. ";quantum physics;neuroscience;" list of tags separated by ; [OPTIONAL]

	ga('send', 'pageview');
</script>
